<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>QR Code Decoder & Generator</title>
  <!-- 載入 Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
  <!-- 載入 qrcode.js 產生函式庫 -->
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js" defer></script>
  <!-- 載入 jsQR 解析函式庫 -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"defer></script>

  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-light">

<div class="container py-5">
  <h1 class="mb-4 text-center" ><a href="https://davidchen0970.github.io/QRcodeDecoder/">QR Code Decoder & Generator</a></h1>

  <!-- 解析區域：若有 data 參數，就顯示連結 -->
  <div id="decoded-section" class="card shadow-sm mb-4 d-none">
    <div class="card-body">
      <h2 class="h4">掃描結果</h2>
      <hr />
      <div id="info-section" class="mb-3">
        <p>產生時間：<span id="gen-time"></span></p>
        <p>網址數量：<span id="url-count"></span></p>
      </div>
      <div id="links-container"></div>
    </div>
  </div>

  <!-- 產生 QR code 區域：若沒有 data 參數，就顯示這個 -->
  <div id="generator-section" class="card shadow-sm mb-4 d-none">
    <div class="card-body">
      <h2 class="h4">產生特殊 QR code</h2>
      <p class="mb-2">在下方輸入多個網址（每行一個），然後按「產生」即可：</p>
      <textarea
        id="url-input"
        class="form-control"
        placeholder="例如：
https://www.google.com
https://github.com
https://..."
      ></textarea>
      <button id="btn-generate" class="btn btn-primary mt-3 w-100">
        產生 QR code
      </button>
      <div class="d-flex justify-content-center my-4" id="qrcode"></div>
      <a
        id="download-link"
        href="#"
        download="qrcode.png"
        class="btn btn-success w-100 d-none"
      >
        下載 QR code
      </a>

      <hr class="my-4">

      <h2 class="h4">上傳並解析 QR code</h2>
      <p class="mb-2">上傳 QR code 圖片，然後按「解析」即可：</p>
      <input type="file" id="qr-upload" accept="image/*" class="form-control mb-3" />
      <button id="btn-decode" class="btn btn-secondary w-100">
        解析 QR code
      </button>
      <canvas id="hidden-canvas"></canvas>
    </div>
  </div>
</div>


<!-- 載入 Bootstrap JS（可選，若你需要更多互動元件才需要） -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  defer
></script>
<script src="script.js"></script>

</body>
</html>
